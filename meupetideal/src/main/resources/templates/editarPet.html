<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: baseHead}"></head>
<body>

<header th:replace="~{base :: baseHeaderPage}"></header>

<main>
    <section class="cadastro-pet">
        <div class="container">
            <h2>Edite Seu Pet!</h2>

            <form 
                class="cadastro-pet-card"
                th:action="@{/MeuPetIdeal/editarPet/{id}(id=${pet.id})}"
                th:object="${pet}" 
                method="post" 
                enctype="multipart/form-data">

                <div>
                    <label for="nome">Nome:</label>
                    <input type="text" id="nome" th:field="*{nome}" />
                    <div th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}" style="color:red"></div>
                </div>

                <div>
                    <label for="raca">Raça:</label>
                    <input type="text" id="raca" th:field="*{raca}" />
                    <div th:if="${#fields.hasErrors('raca')}" th:errors="*{raca}" style="color:red"></div>
                </div>

                <div>
                    <label for="idade">Idade:</label>
                    <input type="number" id="idade" th:field="*{idade}" />
                    <div th:if="${#fields.hasErrors('idade')}" th:errors="*{idade}" style="color:red"></div>
                </div>

                <div>
                    <label for="descricao">Descrição:</label>
                    <textarea id="descricao" th:field="*{descricao}"></textarea>
                    <div th:if="${#fields.hasErrors('descricao')}" th:errors="*{descricao}" style="color:red"></div>
                </div>
                
                <div>
                    <label for="ong">ONG Responsável:</label>
                    <select id="ong" th:field="*{ong.id}" required>
                        <option value="">Selecione uma ONG</option>
                        <option th:each="o : ${ongs}" 
                                th:value="${o.id}" 
                                th:text="${o.nome}" 
                                th:selected="${pet.ong != null and o.id == pet.ong.id}">
                        </option>
                    </select>
                    <div th:if="${#fields.hasErrors('ong')}" th:errors="*{ong}" style="color:red"></div>
                </div>

                <div>
                    <label for="tipo">Tipo:</label>
                    <input type="text" id="tipo" th:field="*{tipo}" />
                    <div th:if="${#fields.hasErrors('tipo')}" th:errors="*{tipo}" style="color:red"></div>
                </div>

                <div>
                    <label for="foto">Insira a foto:</label>
                    <input type="file" id="foto" name="foto" accept="image/*" />
                    <div th:if="${pet.fotoUrl}">
                        <p>Foto atual:</p>
                        <img th:src="@{${pet.foto}}" alt="Foto do pet" style="max-height: 150px;"/>
                    </div>
                </div>
                
                <div>
                    <button type="submit">Editar</button>
                </div>
            </form>
        </div>
    </section>     
</main>

<footer th:replace="~{base :: BaseFooterPage}"></footer>

</body>
</html>
